{% comment %}
Snippet Arguments
- collection: Liquid 'collection' or 'search' object
- items: Paginated 'collection.products' or 'search.results' list. Cannot be pulled from the the 'collection' object passed in above
- enable_sidebar: boolean
- filter_style: 'sidebar' or 'drawer'
- enable_sort: boolean
- enable_collection_count
- per_row
- mobile_flush_grid
- quick_shop_enable
{% endcomment %}

{% liquid
  if collection.products
    assign count = collection.products_count
    assign count_label = 'collections.general.items_with_count'
  endif

  if collection.results
    assign count = collection.results_count
    assign count_label = 'general.search.result_count'
  endif

  assign filters = collection.filters
  assign sort_by = collection.sort_by
  assign default_sort_by = collection.default_sort_by
  assign sort_options = collection.sort_options
  assign current_filter_size = 0

  for filter in filters
    assign current_filter_size = current_filter_size | plus: filter.active_values.size
  endfor
%}

<div class="collection-grid__wrapper">
  <div class="collection-filter">
    <div class="collection-filter__item collection-filter__item--drawer">
      <button
        type="button"
        class="js-drawer-open-collection-filters btn btn--tertiary{% unless current_filter_size == 0 %} btn--tertiary-active{% endunless %}"
        aria-controls="FilterDrawer">
          <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-filter" viewBox="0 0 64 64"><title>icon-filter</title><path d="M48 42h10m-10 0a5 5 0 1 1-5-5 5 5 0 0 1 5 5ZM7 42h31M16 22H6m10 0a5 5 0 1 1 5 5 5 5 0 0 1-5-5Zm41 0H26"/></svg>
          {{ 'collections.filters.title_tags' | t }}
          {%- if current_filter_size > 0 -%}
              ({{ current_filter_size }})
          {%- endif -%}
      </button>
    </div>

    <div class="collection-filter__item collection-filter__item--count small--hide">
      {%- if enable_collection_count -%}
        {{ count_label | t: count: count }}
      {%- endif -%}
    </div>

    <div class="collection-filter__item collection-filter__item--sort">
        <div class="collection-filter__sort-container">
        {%- assign sort_by = sort_by | default: default_sort_by -%}
        <label for="SortBy" class="hidden-label">{{ 'collections.sorting.title' | t }}</label>
        <select name="SortBy" id="SortBy" data-default-sortby="{{ default_sort_by }}">
          <option value="title-ascending"{% if sort_by == default_sort_by %} selected="selected"{% endif %}>{{ 'collections.sorting.title' | t }}</option>
          {%- for option in sort_options -%}
          <option value="{{ option.value }}"{% if option.value == sort_by %} selected="selected"{% endif %}>{{ option.name }}</option>
          {%- endfor -%}
        </select>
        </div>
    </div>
  </div>
<style> .summer-sale-promo {
  position: relative;
  background: linear-gradient(135deg, #ff6b6b, #ffa500, #ffeb3b);
  border-radius: 15px;
  margin: 20px 0;
  padding: 25px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
  overflow: hidden;
  animation: pulse-glow 3s ease-in-out infinite;
}

.summer-sale-promo::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
  animation: shimmer 4s linear infinite;
}

.promo-badge {
  position: absolute;
  top: -10px;
  right: 20px;
  background: #ff1744;
  color: white;
  padding: 8px 15px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: bold;
  transform: rotate(15deg);
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.promo-content {
  position: relative;
  z-index: 2;
  text-align: center;
  color: white;
}

.promo-title {
  font-size: 2.5rem;
  font-weight: bold;
  margin: 0 0 10px 0;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
  letter-spacing: 2px;
}

.promo-discount {
  font-size: 1.8rem;
  margin: 10px 0;
  font-weight: bold;
}

.discount-percent {
  font-size: 3rem;
  color: #ffeb3b;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
  animation: bounce 2s ease-in-out infinite;
}

.promo-description {
  font-size: 1.2rem;
  margin: 15px 0;
  opacity: 0.95;
}

.urgency-timer {
  background: rgba(0,0,0,0.2);
  border-radius: 10px;
  padding: 15px;
  margin: 20px 0;
  backdrop-filter: blur(5px);
}

.timer-text {
  font-size: 1.1rem;
  margin: 0 0 10px 0;
  font-weight: bold;
}

.countdown {
  display: flex;
  justify-content: center;
  gap: 15px;
}

.time-unit {
  background: rgba(255,255,255,0.2);
  padding: 8px 12px;
  border-radius: 8px;
  font-size: 1rem;
  border: 1px solid rgba(255,255,255,0.3);
}

.cta-button {
  display: inline-block;
  background: #ff1744;
  color: white;
  padding: 15px 40px;
  border-radius: 50px;
  text-decoration: none;
  font-size: 1.3rem;
  font-weight: bold;
  margin: 20px 0 10px 0;
  transition: all 0.3s ease;
  box-shadow: 0 6px 20px rgba(255,23,68,0.4);
  animation: button-pulse 2s ease-in-out infinite;
}

.cta-button:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(255,23,68,0.6);
  background: #d50000;
}

.stock-warning {
  font-size: 0.9rem;
  color: #ffeb3b;
  margin: 10px 0 0 0;
  font-weight: bold;
  animation: blink 1.5s ease-in-out infinite;
}

/* Animations */
@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
  50% { box-shadow: 0 12px 35px rgba(255,107,107,0.3); }
}

@keyframes shimmer {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-10px); }
  60% { transform: translateY(-5px); }
}

@keyframes button-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0.7; }
}

/* Responsive Design */
@media (max-width: 768px) {
  .promo-title { font-size: 2rem; }
  .discount-percent { font-size: 2.5rem; }
  .promo-description { font-size: 1rem; }
  .countdown { flex-wrap: wrap; gap: 10px; }
  .cta-button { font-size: 1.1rem; padding: 12px 30px; }
}
</style>
  <div class="grid grid--uniform{% if mobile_flush_grid %} small--grid--flush{% endif %}"{% unless enable_collection_count %} data-scroll-to{% endunless %}>
    {%- for item in items -%}
        {% if forloop.index == 6 %}
<div class="summer-sale-promo">
  <div class="promo-content">
    <div class="promo-badge">
      <span class="badge-text">LIMITED TIME</span>
    </div>
    
    <div class="promo-main">
      <h2 class="promo-title">üåû SUMMER FLASH SALE</h2>
      <p class="promo-discount">UP TO <span class="discount-percent">65% OFF</span></p>
      <p class="promo-description">Beat the heat with scorching hot deals on summer essentials!</p>
      
      <div class="urgency-timer">
        <p class="timer-text">‚è∞ Sale ends in:</p>
        <div class="countdown">
          <span class="time-unit"><strong>2</strong> Days</span>
          <span class="time-unit"><strong>14</strong> Hours</span>
          <span class="time-unit"><strong>32</strong> Minutes</span>
        </div>
      </div>
      
      <div class="promo-cta">
        <a href="/collections/summer-sale" class="cta-button">SHOP NOW</a>
        <p class="stock-warning">‚ö° While supplies last - Most popular items selling fast!</p>
      </div>
    </div>
  </div>
</div>

  {% endif %}
      
      {%- if item.object_type == 'product' -%}
        {%- render 'product-grid-item',
          product: item,
          per_row: per_row,
          quick_shop_enable: quick_shop_enable
        -%}
      {%- else -%}
        {%- render 'search-grid-item',
          item: item,
          per_row: per_row
        %}
      {%- endif -%}
    {%- endfor -%}
  </div>
</div>

{%- if enable_sidebar and filter_style != 'drawer' and collection.filters.size > 0 -%}
{% comment %}
  Sidebar enabled but not in drawer mode, only show filter button on mobile
{% endcomment %}
{% style %}
@media screen and (min-width: 769px) {
  .collection-filter__item--drawer {
    display: none;
  }
  .collection-filter__item--count {
    text-align: left;
  }
  html[dir="rtl"] .collection-filter__item--count {
    text-align: right;
  }
}
{% endstyle %}
{%- endif -%}

{%- if enable_sidebar == false or collection.filters.size == 0 -%}
{% comment %}
    Disable sidebar & filter features
{% endcomment %}
{% style %}
.collection-filter__item--drawer {
  display: none;
}
.collection-filter__item--count {
  text-align: left;
}
html[dir="rtl"] .collection-filter__item--count {
  text-align: right;
}
{% endstyle %}
{%- endif -%}

{%- unless enable_sort -%}
{% style %}
.collection-filter__sort-container {
  display: none;
}
{% endstyle %}
{%- endunless -%}